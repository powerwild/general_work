# React Assessment

This is your React assessment.

## Getting Started

Clone the starter from [here][react-assessment].

Run `npm install` to install dependencies.

## Scoring

Each step below has varied amounts of tests.
The tests for each step have point values assigned to them which means you can
get partial credit for partially finishing a step and getting _some_ of the
tests to pass.

If you have errors or warnings in your console (other than those beyond your
control such as cross-origin cookie errors) or erroneously badly formatted code,
up to five points may be deducted from your score.

You can see your score (without the checks for errors or warnings in your
console and without the checks for erroneously badly formatted code) at any time
by running `npm run test-with-json`.

## Resources

You can use any of the following resources during this assessment:

- [React Router documentation](https://reacttraining.com/react-router/web)
- [React documentation](https://reactjs.org/docs/getting-started.html)
- [Mozilla Developer Network](https://developer.mozilla.org/en-US/docs/Web)
- Any of your previous projects or assessments

## Tests for your assessment

This assessment contains tests to help you complete the phases below. When run,
they will report to you when expectations of _functionality_ are met. It is
still up to you to make sure that your code does not produce errors in the
console or that it is not poorly formatted.

The tests are grouped by phase. Use these test groupings to know when each phase
is complete from a functionality perspective.

The tests are located in **src/**tests\*\*\*\*. Do not modify the files in that
directory.

There is also a file named **src/setupTests.js**. Do not modify or delete that
file, either. It sets up the testing environment.

## Recommendations/Requirements

It is recommended that you consistently review the output of the build in your
Terminal or browser console to make sure that you do not have any warnings
about things like unused variables.

After each phase, the application should render in the browser without errors.

Do not change the location of files in the **src/components** folder. The tests
expect the existence of those files.

When instructed to do something like "Use the `Blah` component in the `render`
method", that implies that you may need to import something like the `Blah`
component. In most cases, you will _not_ be instructed to import something;
rather, you should use your knowledge of how JavaScript modules work to figure
that out on your own.

### Phase 0: Getting the app running

The starter contains an application generated by Create React App using the
**@appacademy/react-v17** template and providing **react-router-dom**. It
contains some styling for you in the **index.css** file for CSS classes that you
will apply during the steps so that things are not default browser layout.

It also contains the tests for the components that you will create.

The React application is already wrapped in the `BrowserRouter` component from
`react-router-dom` in **src/index.js**.

After cloning, run `npm install` to install the dependencies.

You can run your tests with `npm test`. Follow the on-screen instructions to
quit the test runner. If you want to run your tests only once, use the following
command.

```plaintext
CI=true npm test
```

To run the tests for the step you're on, run `npm test -- <file>` where
`<file>` is the test file you're working on.

Here's the list of test files to run individually:

- `npm test 1-TreesIndex`
- `npm test 2-TreeForm`
- `npm test 3-FilteredTreesIndex`
- `npm test 4-ToggleTreeType`
- `npm test 5-Routes`
- `npm test 6-Navigation`
- `npm test 7-TreeShow1`
- `npm test 8-TreeShow3`

Type _Control+C_ to stop the test runner.

You can also run all the tests at once by simply running `npm test`.

To run the application, use the command `npm start`.

#### macOS

If you are on macOS, this should also open a Google Chrome window to see your
application.

#### Windows

If you are on Windows, you can run `npm start` from the Terminal Bash prompt in
Visual Studio Code which should open your browser for you.

**Warning**: make sure the browser that it opens is Google Chrome. If you don't
have Google Chrome as your default browser, it will open Microsoft Internet
Explorer. For the purposes of this class, you must use Google Chrome.
Running `npm start` in the Ubuntu window will only start the application;
in that case, you will have to open a browser window and navigate to
http://localhost:3000/ yourself (by clicking on that link, for example).

### Phase 1: TreesIndex

In this phase, you will be filling in the code for the `TreesIndex` component
which will show links to tree pages for all the trees in a given list of trees.

To test this phase, run `npm test 1-TreesIndex`.

Render the `TreesIndex` component inside of the `App` component. Pass in the
array of trees exported from the **src/mockData/trees.json** mock data file as a
prop to the `TreesIndex` called `trees`. The prop passed into `TreesIndex` must be
named `trees`, the array of trees exported from **src/mockData/trees.json**.

Inside of the `TreesIndex` component, render a `div` as the outermost element of
the component with a class of `trees-index`. Inside of this `div` render an `h2`
element with exactly the text, "Trees Index".

Inside of `div.trees-index`, render links to the tree show pages for all the
trees passed in as props. Each link should be formatted as `/trees/:treeId` with
`:treeId` replaced with a tree's `id`. The visual content of each link should be
that tree's `name`.

**You must use the `Link` component from `react-router-dom`.**

### Phase 2: TreeForm

In this phase, you will be creating controlled inputs, form validations, and
form submission for the `TreeForm` component.

**Do not change the class names and existing attributes for any of the elements
rendered in the `TreeForm` component.** The tests rely on these to be present.

To test this phase, run `npm test 2-TreeForm`.

Render the `TreeForm` component inside of the `App` component.
You can make it a sibling to the `TreesIndex` component from Phase 1.

Take a look at the `TreeForm` component. The `<form>` and its inputs have
already been created for you. **Make the name, type, and average height inputs
into controlled inputs**. The name field should be initialized to an empty
string. The average height field should be initialized to 1, and the type field
should be initialized to the first type in the `TYPES` constant variable defined
at the top of the component file.

Using useEffect and useState, create the following form validations.
Render the error messages in the `ul.errors` element.

| Field          | Condition                           | Error Message                                      |
| -------------- | ----------------------------------- | -------------------------------------------------- |
| Name           | Empty                               | "Name field is required"                           |
| Name           | More than 50 characters             | "Name must be no greater than 50 characters."      |
| Average Height | Less than 1 **or** Greater than 500 | "Average Height must be between 1 and 500 meters." |

**The errors must be handled dynamically and be checked on initial render and
after every change in user input, not during form submission.**

Disable the submit button of the `<form>` with a `disabled` attribute (with a
value of `true`) if the form validations don't pass (i.e. any error messages
present).

**When the form is submitted**, print the form values to the console in an
object with the keys `name`, `avgHeight`, and `type`, and then navigate to the
trees index page, "/trees".

Example of form values properly formatted in an object:

```js
{
  name: "Orange",
  type: "Deciduous",
  avgHeight: "20",
}
```

### Phase 3: FilteredTreesIndex

In this phase, you will be filling in the code for the `FilteredTreesIndex`
component. This component will render only the trees of a certain type that's
saved in a context's value as `treeType`. The component **must** use the
`TreesIndex` component to render all the filtered trees of a certain type.

Take a look at the context and provider created in
**src/context/TreeTypeContext.js**. The value of the `TreeTypeContext` has a
`treeType` that should be used by the `FilteredTreesIndex` component to filter
the trees displayed.

Hint: You may want to create a custom hook to return the values of the
`TreeTypeContext`.

To test this phase, run `npm test 3-FilteredTreesIndex`.

Render the `FilteredTreesIndex` component inside of the `App` component.

Inside of the `FilteredTreesIndex` component, render an `h2` element with
the text containing the tree type in the context's value. Also inside of this
component, you must render the `TreesIndex` component passing in as props the
filtered array of trees that match the tree type in the context's value.

### Phase 4: ToggleTreeType

In the previous phase, you used the `TreeTypeContext`'s `treeType` value. In
this phase you will set the `treeTypeId` and `setTreeTypeId` value of the
context in the `ToggleTreeType` component.

To test this phase, run `npm test 4-ToggleTreeType`.

**Do not change the class names and existing attributes for any of the elements
rendered in the `ToggleTreeType` component.** The tests rely on these to be
present.

Render the `ToggleTreeType` component inside of the `App` component.

Two inputs have been rendered in the `ToggleTreeType` component for you. Make
these a **controlled input** that changes the value of the `treeTypeId` in the
`TreeTypeContext` using the `setTreeTypeId` function in the `TreeTypeContext`.
The Deciduous radio button should be checked if the `treeTypeId` is `"1"`.
The Evergreen radio button should be checked if the `treeTypeId` is `"2"`.

If done correctly, you should see the set of filtered trees in the
`FilteredTreesIndex` component change when you toggle between the "Deciduous"
and "Evergreen" radio inputs.

### Phase 5: Routes

In this phase, you will create the following routes in the `App` component:

| Route path           | Component/Text          |
| -------------------- | ----------------------- |
| `/trees` exactly     | `TreesIndex`            |
| `/trees/new`         | `TreeForm`              |
| `/filtered-trees`    | `FilteredTreesIndex`    |
| `/toggle-tree-type`  | `ToggleTreeType`        |
| `/trees/:treeId`     | `TreeShow`              |
| all other paths      | "Page Not Found" (text) |

**`BrowserRouter` is already wrapping the entire application in the entry file,
`src/index.js`.**

To test this phase, run `npm test 5-Routes`.

**Make sure all the other phases still pass after you finish this phase.**

### Phase 6: Navigation

In this phase, you will create navigation links in the `Navigation` component.

To test this phase, run `npm test 6-Navigation`.

Render the `Navigation` component inside of the `App` component.

Inside of the `Navigation` component, render a `nav` as the outermost element.

Render the following four navigation links inside of the `nav` element:

| Name                   | Path                 |
| ---------------------- | -------------------- |
| All Trees              | `/trees`             |
| Add a Tree             | `/trees/new`         |
| Filtered Trees by Type | `/filtered-trees`    |
| Set Tree Type          | `/toggle-tree-type`  |

Please use the value in the "Name" column above as the visual content of your
navigation link.

**You must use the `NavLink` component from `react-router-dom`.**

### Phase 7: TreeShow

In this phase, you will be rendering the details of a tree in the `TreeShow`
component that should be shown on the `/trees/:treeId` route path.

In the list of trees in the mock data file, **src/mockData/trees.json**, each tree
has an `id`. Inside of the `TreeShow` component, display the tree information for
the tree with the `id` that matches the `:treeId` in the URL path.

To test this phase, run these two tests:

- `npm test 7-TreeShow1` - route path: `/trees/1`
- `npm test 8-TreeShow3` - route path: `/trees/3`

The `TreeShow` component should already be rendered inside of the `App`
component from when you added routes in Phase 5. Pass in the array of trees
exported from the **src/mockData/trees.json** mock data file as a prop to the
`TreeShow` called `trees`. The prop passed into `TreeShow` must be named `trees`
(the same way that you passed in `trees` into `TreesIndex`).

Inside of the `TreeShow` component, render a `div` as the outermost element
with a class of `tree-show`. Use the tree with the `id` object property that
matches the `treeId` from the route path. Inside of `div.tree-show`, render an
`h2` element with the tree's name as the text. Outside of the `h2` element,
render the type and average height of the tree in any sort of text elements you
want to use EXCEPT an `h2` element.

### Wrapping up

Make sure that you pass all the tests by running `npm test`. Each test is
weighted individually. To see your score, run `npm run test-with-json`.

## Submitting your assessment

1. Delete the **node_modules** directory from the directory that contains your
   assessment code.
2. Delete the **test/score.json** file, if you have one.
3. Zip up the directory that contains your assessment code.
4. Submit it.

[react-assessment]: https://github.com/appacademy/assessment-for-week-14-version-b-react